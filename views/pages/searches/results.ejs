<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="css/style.css">
  
  <title>Search Results</title>
</head>
<body>
  <%- include('../../partials/menu.ejs') %>
  <div class="current-page"><h2>Search Results</h2></div>
  
  <main>
    <% let i = 0; %>
    <% books.forEach(book => { %>
      <div class="result">
        <h3><%= book.title %></h3>
        <h4><%= book.author %></h4>
        <img src=<%= book.image_url %>>
        
        <button class="editForm" value="<%= i %>">Select this Book</button>
        
        <form action="/save" method="post" class="<%= i %> edit">
          <input name="title" type="text" placeholder="Title" value="<%= book.title %>" class="<%= i %> edit">
          <input name="author" type="text" placeholder="Author" value="<%= book.author %>" class="<%= i %> edit">
          <textarea name="description" placeholder="Description" class="<%= i %> edit text"><%= book.description %></textarea>
          <input name="image_url" type="text" placeholder="Image URL" value="<%= book.image_url %>" class="<%= i %> edit">
          <input name="isbn_type" type="text" placeholder="ISBN Type" value="<%= book.isbn_type %>" class="<%= i %> edit">
          <input name="isbn_number" type="text" placeholder="ISBN Number" value="<%= book.isbn_number %>" class="<%= i %> edit">
          <input name="bookshelf" type="text" placeholder="Bookshelf" class="<%= i %> edit">
          <button type="submit" value="submit" class="edit">Add to Collection</button>
        </form>
      </div>
        <% i++ %>
      <% }); %>
    </main>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script>
      $('.editForm').on('click', function() {
        let selectionClass = "." + $(this).val();
        console.log(selectionClass);
        $(this).hide();
        $(`${selectionClass}`).css('display', 'block');
      });
  </script>
</body>
</html>